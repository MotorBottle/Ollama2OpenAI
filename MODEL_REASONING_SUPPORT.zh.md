# æ¨¡å‹æ¨ç†æ”¯æŒ

**è¯­è¨€ç‰ˆæœ¬:** [English](MODEL_REASONING_SUPPORT.md) | ç®€ä½“ä¸­æ–‡

æœ¬æ–‡æ¡£è¯´æ˜äº†ä½¿ç”¨ Ollama2OpenAI ç½‘å…³æ—¶ï¼Œä¸åŒæ¨¡å‹å®¶æ—çš„æ¨ç†èƒ½åŠ›å’Œæ”¯æŒçš„ `think` å‚æ•°å€¼ã€‚

## æŒ‰æ¨¡å‹å®¶æ—åˆ†ç±»çš„æ¨ç†å‚æ•°æ”¯æŒ

### ğŸ§  å®Œæ•´æ¨ç†æ¨¡å‹ï¼ˆæ”¯æŒåŠªåŠ›çº§åˆ«ï¼‰

è¿™äº›æ¨¡å‹æ”¯æŒç»†ç²’åº¦æ¨ç†åŠªåŠ›æ§åˆ¶ï¼ŒåŒ…å« `"low"`ã€`"medium"` å’Œ `"high"` çº§åˆ«ï¼š

| æ¨¡å‹ç³»åˆ— | æ”¯æŒçš„å‚æ•°å€¼ | å¤‡æ³¨ |
|---------|------------|------|
| **GPT-OSS** | `"low"`, `"medium"`, `"high"` | åŸç”Ÿæ”¯æŒæ¨ç†åŠªåŠ›çº§åˆ« |
| **DeepSeek-R1** | `"low"`, `"medium"`, `"high"` | é«˜çº§æ¨ç†ï¼Œæ”¯æŒåŠªåŠ›åº¦æ§åˆ¶ |
| **QwQ** | `"low"`, `"medium"`, `"high"` | é—®ç­”æ¨ç†æ¨¡å‹ |

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
# é«˜åŠªåŠ›åº¦æ¨ç†
response = client.chat.completions.create(
    model="gpt-oss:120b",
    reasoning_effort="high",
    messages=[{"role": "user", "content": "è§£å†³è¿™ä¸ªå¤æ‚é—®é¢˜"}]
)

# ä½åŠªåŠ›åº¦ï¼Œæ›´å¿«å“åº”
response = client.chat.completions.create(
    model="deepseek-r1:14b",
    think="low",  # ç›´æ¥ä½¿ç”¨ Ollama æ ¼å¼
    messages=[{"role": "user", "content": "ç®€å•é—®é¢˜"}]
)
```

### âš¡ åŸºç¡€æ¨ç†æ¨¡å‹ï¼ˆä»…æ”¯æŒçœŸå‡å€¼ï¼‰

è¿™äº›æ¨¡å‹æ”¯æŒæ¨ç†ä½†ä»…æ”¯æŒäºŒè¿›åˆ¶å¼€/å…³æ¨¡å¼ï¼š

| æ¨¡å‹ç³»åˆ— | æ”¯æŒçš„å‚æ•°å€¼ | å¤‡æ³¨ |
|---------|------------|------|
| **Qwen3** | `true`, `false` | ä»…æ”¯æŒäºŒè¿›åˆ¶æ¨ç†æ§åˆ¶ |
| **Llama3** | `true`, `false` | åŸºæœ¬æ€è€ƒæ¨¡å¼æ”¯æŒ |
| **Mistral** | `true`, `false` | ç®€å•æ¨ç†å¼€/å…³ |

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
# å¯ç”¨æ¨ç†ï¼ˆåŸºç¡€ï¼‰
response = client.chat.completions.create(
    model="qwen3:32b",
    think=True,  # ä»…æ”¯æŒ true/false
    messages=[{"role": "user", "content": "æ€è€ƒè¿™ä¸ªé—®é¢˜"}]
)
```

### ğŸš« éæ¨ç†æ¨¡å‹

è¿™äº›æ¨¡å‹ä¸æ”¯æŒæ¨ç†å‚æ•°ï¼š

| æ¨¡å‹ç³»åˆ— | æ¨ç†æ”¯æŒ | å¤‡æ³¨ |
|---------|---------|------|
| **Llama2** | æ—  | æ ‡å‡†è¡¥å…¨æ¨¡å‹ |
| **Code Llama** | æ—  | ä¸“æ³¨äºä»£ç ç”Ÿæˆ |
| **åµŒå…¥æ¨¡å‹** | æ—  | æ–‡æœ¬åµŒå…¥æ¨¡å‹ |

## å‚æ•°æ˜ å°„å‚è€ƒ

### OpenAI æ ¼å¼ â†’ Ollama æ ¼å¼

| è¾“å…¥å‚æ•° | å®Œæ•´æ¨ç†æ¨¡å‹ | åŸºç¡€æ¨ç†æ¨¡å‹ | éæ¨ç†æ¨¡å‹ |
|---------|------------|------------|----------|
| `reasoning_effort: "minimal"` | `think: false` | `think: false` | å¿½ç•¥ |
| `reasoning_effort: "low"` | `think: "low"` | `think: true` | å¿½ç•¥ |
| `reasoning_effort: "medium"` | `think: "medium"` | `think: true` | å¿½ç•¥ |
| `reasoning_effort: "high"` | `think: "high"` | `think: true` | å¿½ç•¥ |

### å‚æ•°è¦†ç›–ç¤ºä¾‹

```json
{
  "gpt-oss:120b": {
    "think": "high",
    "num_ctx": 32768,
    "temperature": 0.8
  },
  "qwen3:32b": {
    "think": true,
    "num_ctx": 8192,
    "temperature": 0.7
  },
  "llama2:7b": {
    "num_ctx": 4096,
    "temperature": 0.7
  }
}
```

## æœ€ä½³å®è·µ

### ğŸ¯ é€‰æ‹©æ¨ç†åŠªåŠ›åº¦

- **é«˜åŠªåŠ›åº¦** (`"high"`): éœ€è¦æ·±å…¥åˆ†æçš„å¤æ‚é—®é¢˜
- **ä¸­ç­‰åŠªåŠ›åº¦** (`"medium"`): å¤§å¤šæ•°ä»»åŠ¡çš„å¹³è¡¡æ¨ç†  
- **ä½åŠªåŠ›åº¦** (`"low"`): éœ€è¦åŸºç¡€æ¨ç†çš„å¿«é€Ÿå“åº”
- **æœ€å°/å…³é—­** (`false`): æœ€å¿«å“åº”ï¼Œæ— æ¨ç†å¼€é”€

### âš™ï¸ æ€§èƒ½è€ƒè™‘

| åŠªåŠ›çº§åˆ« | å“åº”æ—¶é—´ | Token ä½¿ç”¨é‡ | æœ€é€‚åˆ |
|---------|---------|-------------|-------|
| `false` | æœ€å¿« | æœ€ä½ | ç®€å•æŸ¥è¯¢ |
| `"low"` | å¿« | ä½ | å¿«é€Ÿæ¨ç†ä»»åŠ¡ |
| `"medium"` | ä¸­ç­‰ | ä¸­ç­‰ | ä¸€èˆ¬é—®é¢˜è§£å†³ |
| `"high"` | è¾ƒæ…¢ | è¾ƒé«˜ | å¤æ‚åˆ†æ |

### ğŸ”§ æ¨¡å‹é€‰æ‹©æŒ‡å—

1. **å¤æ‚æ¨ç†**: ä½¿ç”¨ GPT-OSS æˆ– DeepSeek-R1 é…åˆ `"high"` åŠªåŠ›åº¦
2. **ç®€å•ä»»åŠ¡**: ä½¿ç”¨ Qwen3 é…åˆ `true` è¿›è¡ŒåŸºç¡€æ¨ç†
3. **è¿½æ±‚é€Ÿåº¦**: ä½¿ç”¨ä»»æ„æ¨¡å‹é…åˆ `false` æˆ–ä¸è®¾ç½®æ¨ç†å‚æ•°
4. **ä»£ç ç›¸å…³**: ä½¿ç”¨ Code Llamaï¼ˆæ— éœ€æ¨ç†ï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

- **é”™è¯¯ï¼šæ— æ•ˆçš„ think å‚æ•°**: æ¨¡å‹ä¸æ”¯æŒåŠªåŠ›çº§åˆ«ï¼Œè¯·ä½¿ç”¨ `true`/`false`
- **æ— æ¨ç†è¾“å‡º**: æ¨¡å‹ä¸æ”¯æŒæ¨ç†ï¼Œæˆ–è®¾ç½®äº† `think: false`
- **å“åº”æ…¢**: é«˜åŠªåŠ›åº¦æ¨ç†éœ€è¦æ›´å¤šæ—¶é—´ï¼Œè€ƒè™‘é™ä½åŠªåŠ›çº§åˆ«

### æµ‹è¯•æ¨¡å‹èƒ½åŠ›

```bash
# æµ‹è¯•æ¨ç†æ”¯æŒ
curl -X POST http://localhost:22434/v1/chat/completions \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "your-model",
    "messages": [{"role": "user", "content": "æµ‹è¯•æ¨ç†"}],
    "think": "high"
  }'
```

## ç‰ˆæœ¬è¯´æ˜

- **ç½‘å…³ç‰ˆæœ¬**: æœ€æ–°ç‰ˆ
- **æœ€åæ›´æ–°**: 2025-09-05
- **Ollama å…¼å®¹æ€§**: v0.1.0+

---

ğŸ’¡ **æç¤º**: è¯·å§‹ç»ˆæŸ¥é˜…æ‚¨ç‰¹å®šæ¨¡å‹çš„æ–‡æ¡£ä»¥è·å–æœ€æ–°çš„æ¨ç†èƒ½åŠ›ä¿¡æ¯ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„æ¨¡å‹æ”¯æŒå¯èƒ½æœ‰æ‰€ä¸åŒã€‚